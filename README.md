# rb10-whisper

Windows専用の軽量AI音声入力ツールです。F2キーを押して話すだけで、OpenAI Whisperが高精度に文字起こしを行い、アクティブなウィンドウに入力します。
録音中は邪魔にならないおしゃれなビジュアライザーが表示されます。

## 特徴

- **高精度文字起こし**: OpenAI Whisper APIを使用。
- **フィラー除去**: 「えー」「あー」などの不要な言葉を自動でカット。
- **モダンなビジュアライザー**: 画面下部に表示され、声の大きさに反応して波形が動きます。待機中はブレスアニメーションを表示。
- **セキュアな設計**: APIキーはWindowsの資格情報マネージャーに安全に保存（ファイルには残りません）。
- **グローバルホットキー**: どのアプリを使っていても F2 で即座に起動。

## インストール方法

1. リポジトリをクローンまたはダウンロードします。
2. 必要なライブラリをインストールします。
   ```bash
   pip install -r requirements.txt
   ```
   > **Note**: `keyring` ライブラリが必要です。

## exe化手順 (Windows)

自分でexeファイルを作成する場合の手順です。

1. ビルドを実行します。

   ```bash
   build.bat
   ```

2. `dist` フォルダに `rb10-whisper.exe` が生成されます。

## OpenAI APIキーの取得方法（重要）

本ツールの利用には OpenAI APIキーが必要です。

1. [OpenAI Platform](https://platform.openai.com/) にアクセスし、ログインします。
2. 左メニューの **Settings** > **Billing** から、クレジットカードを登録し、クレジット（Credit Balance）をチャージします。
3. **API Keys** メニューに移動し、**+ Create new secret key** をクリックします。
4. 作成されたキー（`sk-...`）をコピーします。
5. アプリ初回起動時に**APIキー登録画面**が表示されます。
   - 入力欄にキーを貼り付け、右側の「✔」ボタンを押して登録してください。
   - キーはOSのセキュリティ機能（Credential Manager）を用いて安全に保存されます。

## 使い方

1. アプリを起動します。
   (exeの場合は `rb10-whisper.exe` をダブルクリック)

2. テキストを入力したい場所（メモ帳、Slack、ブラウザなど）をクリックしてアクティブにします。
3. **F2キー** を押すと録音が始まります。
   - 画面下部中央に波形ビジュアライザーが表示されます。
4. マイクに向かって話します。
5. もう一度 **F2キー** を押すと録音が終了します。
   - "Thinking" 状態（波形がゆっくり明滅）になり、数秒後にテキストが自動入力されます。
   - 録音ファイルは処理完了後に自動的に削除されます。

## 終了方法

タスクトレイの「マイクアイコン」を右クリックし、「終了」を選択してください。またはターミナル実行の場合は `Ctrl+C` で終了します。

## 設定

APIキーの変更が必要な場合は、アプリ起動時（または動作中）に再度設定画面が開かれた際に入力し直してください。
（現在の実装では、キーが無効な場合に再入力を求められます）
